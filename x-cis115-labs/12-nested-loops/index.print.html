




	
	
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="Intro CS Textbook">
    <meta name="author" content="K-State CS Faculty">
    <title>Nested Loops :: Intro CS Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/index.html" rel="canonical" type="text/html" title="Nested Loops :: Intro CS Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/index.xml" rel="alternate" type="application/rss+xml" title="Nested Loops :: Intro CS Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/tele.html" rel="alternate" type="text/html" title="Nested Loops :: Intro CS Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/embed.html" rel="alternate" type="text/html" title="Nested Loops :: Intro CS Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/fontawesome-all.min.css?1691785628" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cs-zero/css/fontawesome-all.min.css?1691785628" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/nucleus.css?1691785628" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/auto-complete.css?1691785628" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cs-zero/css/auto-complete.css?1691785628" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/perfect-scrollbar.min.css?1691785628" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/fonts.css?1691785628" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cs-zero/css/fonts.css?1691785628" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/theme.css?1691785628" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/theme-auto.css?1691785628" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/variant.css?1691785628" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/print.css?1691785628" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/format-print.css?1691785628" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/ie.css?1691785628" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cs-zero/js/url.js?1691785628"></script>
    <script src="https://ksu-cs-textbooks.github.io/cs-zero/js/variant.js?1691785628"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cs-zero/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cs-zero/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cs-zero/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cs-zero/css/custom.css?1691785628" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cs-zero/index.html"><span itemprop="name">Intro CS Textbook</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/index.html"><span itemprop="name">CIS 115 Labs</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Nested Loops</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 12</div>
<h1 id="nested-loops">Nested Loops</h1>


            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Nested Loops</h1>
    
    
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="nested-while-loops">Nested While Loops</h1>


<a href="https://www.youtube.com/watch?v=jv4zWOMdLVA">YouTube Video</a>

<h4 id="resources">Resources</h4>
<ul>
<li><a href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/01-nested-while-loops/slides/" target="_blank">Slides</a></li>
</ul>
<p>To create a nested loop in Python, we can simply place a loop structure inside of the block of statements that is repeated by another loop structure. This is very similar to how we can nest conditional statements as well.</p>
<p>For example, consider this short Python program:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>:
</span></span><span style="display:flex;"><span>        j <span style="color:#f92672">=</span> i
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> j <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> &#34;</span><span style="color:#f92672">.</span>format(j), end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>            j <span style="color:#f92672">=</span> j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Complete!&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>In this example, we see a Python while loop that uses the variable <code>i</code> in its Boolean expression first, and then inside of that loop we see another loop that uses <code>j</code> in its Boolean expression. When we run this code, each time we execute the steps inside of the outer while loop, we&rsquo;ll have to completely go through the inner while loop as well. It can be very complex to keep track of everything, but with a bit of practice we&rsquo;ll learn some strategies for mentally working through loops.</p>
<p>Before continuing, take a look at that program&rsquo;s code and see if you can determine what it will print!</p>
<h2 id="code-tracing-example">Code Tracing Example</h2>
<p>To really understand how a set of nested loops work, let&rsquo;s go through a code tracing example using Python Tutor. To follow along, place this code in the <code>tutor.py</code> file in the <code>python</code> folder on Codio, or click this <a href="https://pythontutor.com/visualize.html#code=def%20main%28%29%3A%0A%20%20%20%20i%20%3D%201%0A%20%20%20%20while%20i%20%3C%2010%3A%0A%20%20%20%20%20%20%20%20j%20%3D%20i%0A%20%20%20%20%20%20%20%20while%20j%20%3C%2010%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%28%22%7B%7D%20%22.format%28j%29,%20end%3D%22%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20j%20%3D%20j%20%2B%201%0A%20%20%20%20%20%20%20%20print%28%22%22%29%0A%20%20%20%20%20%20%20%20i%20%3D%20i%20%2B%201%0A%20%20%20%20print%28%22Complete!%22%29%0A%0A%0Amain%28%29&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" target="_blank">Python Tutor</a>
 link to load Python Tutor in a web browser.</p>
<p>When we first load this code in Python Tutor, we should see the following state:</p>
<p>
<a href="#image-43b4e7c123a38ce25b1d674e062c9bef" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_1.png" alt="Tutor 1" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-43b4e7c123a38ce25b1d674e062c9bef">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_1.png" alt="Tutor 1" class="lightbox-image" loading="lazy">
</a></p>
<p>When we look at the bottom of the Python Tutor page, we&rsquo;ll see that we are on step 1 of 187 steps! That&rsquo;s a very large number of steps to deal with! Up to this point, most of our programs have been around 20 or 30 steps in total. So, already we&rsquo;re seeing that nested loops can quickly create programs that execute many more steps.</p>
<p>If we click next a few times, we&rsquo;ll see Python Tutor find the <code>main()</code> function definition, and then call that function from the bottom of the code. By the time we&rsquo;ve entered the <code>main()</code> function, we should be at this state:</p>
<p>
<a href="#image-15ef868d935f52f269fcec7128165a3d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_4.png" alt="Tutor 4" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-15ef868d935f52f269fcec7128165a3d">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_4.png" alt="Tutor 4" class="lightbox-image" loading="lazy">
</a></p>
<p>Here, we are setting up the iterator variable <code>i</code> that is used for the outermost loop. So, we&rsquo;ll store the value $1$ in <code>i</code> and then move to the next line:</p>
<p>
<a href="#image-737633882c27a8ebe88e688e4d1fb190" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_5.png" alt="Tutor 5" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-737633882c27a8ebe88e688e4d1fb190">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_5.png" alt="Tutor 5" class="lightbox-image" loading="lazy">
</a></p>
<p>Now we&rsquo;re at the start of our outer while loop. That means that we&rsquo;ll need to evaluate the Boolean expression and determine if it is <code>True</code> or <code>False</code>. In this case, we can see that <code>i &lt; 10</code> will evaluate to <code>True</code>, so we should enter the loop.</p>
<p>
<a href="#image-43de5d0eaa232191be3d6f68e698567c" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_6.png" alt="Tutor 6" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-43de5d0eaa232191be3d6f68e698567c">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_6.png" alt="Tutor 6" class="lightbox-image" loading="lazy">
</a></p>
<p>Once we are inside the loop, we&rsquo;ll start setting up the iterator variable <code>j</code> for the inner loop. In this code, we are storing the current value of <code>i</code> in <code>j</code>, so at this point <code>j</code> will also contain $1$.</p>
<p>
<a href="#image-c43236df3c4d1d3b9db316e06397d54e" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_7.png" alt="Tutor 7" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-c43236df3c4d1d3b9db316e06397d54e">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_7.png" alt="Tutor 7" class="lightbox-image" loading="lazy">
</a></p>
<p>At this point, we need to decide if we should enter the inner while loop. So, once again we&rsquo;ll look at the Boolean expression, <code>j &lt; 10</code>, and see that it is also <code>True</code> and we should enter the loop.</p>
<p>
<a href="#image-8ea7e948f9a895caab195ddcba88036e" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_8.png" alt="Tutor 8" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8ea7e948f9a895caab195ddcba88036e">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_8.png" alt="Tutor 8" class="lightbox-image" loading="lazy">
</a></p>
<p>Inside of the inner while loop, we&rsquo;ll perform two actions. First, we&rsquo;ll print the current value of <code>j</code> to the output, but we won&rsquo;t move to the next line since the <code>end</code> parameter is set to an empty string in the <code>print()</code> function:</p>
<p>
<a href="#image-57671fe64299482eeb9d648e3f7a200e" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_9.png" alt="Tutor 9" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-57671fe64299482eeb9d648e3f7a200e">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_9.png" alt="Tutor 9" class="lightbox-image" loading="lazy">
</a></p>
<p>Then, we&rsquo;ll increment the value of <code>j</code> by $1$ before looping back to the top of the innermost loop:</p>
<p>
<a href="#image-e49ae52511f27c067a2cd4c2d74d9544" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_10.png" alt="Tutor 10" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-e49ae52511f27c067a2cd4c2d74d9544">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_10.png" alt="Tutor 10" class="lightbox-image" loading="lazy">
</a></p>
<p>Notice that when we reach the end of the innermost loop, we jump back to the beginning of that loop, <strong>NOT</strong> to the beginning of the outermost loop. This is an important concept to learn - since we are only dealing with the inner loop at this point, we must continue to repeat its steps until the Boolean expression evaluates to <code>False</code>. So, since the Boolean expression <code>j &lt; 10</code> still evaluates to <code>True</code>, we should enter the loop once again.</p>
<p>
<a href="#image-483465a7cf17623760efba3712e8ded0" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_11.png" alt="Tutor 11" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-483465a7cf17623760efba3712e8ded0">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_11.png" alt="Tutor 11" class="lightbox-image" loading="lazy">
</a></p>
<p>Inside the loop, we&rsquo;ll print the current value of <code>j</code> to the same line of output as before:</p>
<p>
<a href="#image-f174710593ee1b13e1a54ce53df930d9" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_12.png" alt="Tutor 12" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-f174710593ee1b13e1a54ce53df930d9">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_12.png" alt="Tutor 12" class="lightbox-image" loading="lazy">
</a></p>
<p>And once again we&rsquo;ll increment the value of <code>j</code> by $1$ and jump back to the top of the innermost while loop:</p>
<p>
<a href="#image-ce7889fcb8c441657063e33826919c74" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_13.png" alt="Tutor 13" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ce7889fcb8c441657063e33826919c74">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_13.png" alt="Tutor 13" class="lightbox-image" loading="lazy">
</a></p>
<p>Hopefully at this point we have a pretty good idea of what each step of the innermost while loop does. It will simply print the value of <code>j</code> and increment it by $1$, repeating those steps until <code>j</code> is greater than or equal to $10$. So, once the inner while loop terminates, we&rsquo;ll see this state:</p>
<p>
<a href="#image-2bc7133d32ab2a2a75eaf403f1384f26" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_35.png" alt="Tutor 35" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-2bc7133d32ab2a2a75eaf403f1384f26">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_35.png" alt="Tutor 35" class="lightbox-image" loading="lazy">
</a></p>
<p>We jumped from step 13 to step 35 just to complete the inner while loop. Finally, at this point we&rsquo;ll print an empty string, which will move our output to the next line, and then we&rsquo;ll increment the value in <code>i</code> by $1$ before looping to the top of the outer while loop:</p>
<p>
<a href="#image-0bfd50cf5daed8e6a821676b6681805f" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_37.png" alt="Tutor 37" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-0bfd50cf5daed8e6a821676b6681805f">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_37.png" alt="Tutor 37" class="lightbox-image" loading="lazy">
</a></p>
<p>Now we must check to see if we should enter the outer while loop again by checking the Boolean expression <code>i &lt; 10</code>. Since that evaluates to <code>True</code>, we&rsquo;ll enter the loop a second time.</p>
<p>
<a href="#image-ff5c05b29e3fac88f900d0c39f2ae1fc" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_38.png" alt="Tutor 38" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ff5c05b29e3fac88f900d0c39f2ae1fc">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_38.png" alt="Tutor 38" class="lightbox-image" loading="lazy">
</a></p>
<p>Inside the loop, we&rsquo;ll reset the value of <code>j</code> to be the current value stored in <code>i</code>, which is now $2$, and then we&rsquo;ll reach the inner while loop:</p>
<p>
<a href="#image-4a143629029eb333998bfcd21803476e" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_39.png" alt="Tutor 39" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-4a143629029eb333998bfcd21803476e">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_39.png" alt="Tutor 39" class="lightbox-image" loading="lazy">
</a></p>
<p>Here, we can evaluate the Boolean expression <code>j &lt; 10</code>, which is currently <code>True</code>, and determine that we should enter the inner while loop.</p>
<p>
<a href="#image-b2daa615a0a7535f1e07ebf4d6390486" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_40.png" alt="Tutor 40" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-b2daa615a0a7535f1e07ebf4d6390486">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_40.png" alt="Tutor 40" class="lightbox-image" loading="lazy">
</a></p>
<p>Inside the loop, the code hasn&rsquo;t changed, so we can use our understanding from before to quickly figure out what this loop does. It will print the current value in <code>j</code> and then increment <code>j</code> by $1$, so we&rsquo;ll end up at this state:</p>
<p>
<a href="#image-ce845a40154c9b1af343d29a5346e7f3" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_42.png" alt="Tutor 42" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ce845a40154c9b1af343d29a5346e7f3">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_42.png" alt="Tutor 42" class="lightbox-image" loading="lazy">
</a></p>
<p>At this point, we can easily assume that the inner loop will do pretty much the same thing as before - it will print all of the values from <code>i</code> up through $9$ to the output, all on the same line. So, once the inner loop has completely finished, we&rsquo;ll see the following state in Python Tutor:</p>
<p>
<a href="#image-b0f87df80450f3be85084afe2f31da3a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_64.png" alt="Tutor 64" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-b0f87df80450f3be85084afe2f31da3a">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_64.png" alt="Tutor 64" class="lightbox-image" loading="lazy">
</a></p>
<p>We were able to quickly jump from step 42 all the way to step 64 just by understanding what the inner loop is doing and extrapolating from our previous experience. Now, we can finish up this iteration of the outer loop by printing a newline and then incrementing <code>i</code> by $1$, and then we&rsquo;ll be back at the beginning of the outer while loop:</p>
<p>
<a href="#image-75a187070287353738b63ddf6b33f861" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_66.png" alt="Tutor 66" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-75a187070287353738b63ddf6b33f861">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_66.png" alt="Tutor 66" class="lightbox-image" loading="lazy">
</a></p>
<p>At this point, we&rsquo;ve completely worked through two iterations of the outermost while loop, including two complete executions of the innermost while loop. So, we&rsquo;re at a good point to make a prediction about the output of the program as a whole, without executing the next 120 steps. It looks like the inner loop will print the values from <code>i</code> through $9$ on a single line, and then each line will start with the value of <code>i</code> being incremented by $1$ each time. So, overall, we can expect the entire outer while loop to produce the following output:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>1 2 3 4 5 6 7 8 9 
</span></span><span style="display:flex;"><span>2 3 4 5 6 7 8 9 
</span></span><span style="display:flex;"><span>3 4 5 6 7 8 9 
</span></span><span style="display:flex;"><span>4 5 6 7 8 9 
</span></span><span style="display:flex;"><span>5 6 7 8 9 
</span></span><span style="display:flex;"><span>6 7 8 9 
</span></span><span style="display:flex;"><span>7 8 9 
</span></span><span style="display:flex;"><span>8 9 
</span></span><span style="display:flex;"><span>9</span></span></code></pre></div><p>And, indeed, if we jump ahead to the last line of the program we&rsquo;ll see exactly that situation in Python Tutor:</p>
<p>
<a href="#image-66aa182e8b7da9fff59f802fcd5d400a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_186.png" alt="Tutor 186" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-66aa182e8b7da9fff59f802fcd5d400a">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_186.png" alt="Tutor 186" class="lightbox-image" loading="lazy">
</a></p>
<p>The program ends by printing the string <code>&quot;Complete!&quot;</code>. At the end of the program, we&rsquo;ll see the following state:</p>
<p>
<a href="#image-b876212646bca31560722f19d9331e3f" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_187.png" alt="Tutor 187" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-b876212646bca31560722f19d9331e3f">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9_187.png" alt="Tutor 187" class="lightbox-image" loading="lazy">
</a></p>
<p>A full animation of this process is shown here. After the first full iteration of the outer while loop, the rest of the internal steps are omitted and only the end of each loop iteration is shown.</p>
<p>
<a href="#image-f783f9298fb7bbbbaf66891a10b27390" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9.gif" alt="Tutor 9 Animated" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-f783f9298fb7bbbbaf66891a10b27390">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/tutor9.gif" alt="Tutor 9 Animated" class="lightbox-image" loading="lazy">
</a></p>
<p>Working through an example program such as this one is a great way to explore how nested loops work in Python</p>
<h2 id="tips-for-nested-loops">Tips for Nested Loops</h2>
<p>Writing code that has nested while loops can be quite tricky, as there are several pitfalls that we might encounter. Here are a few tips to keep in mind when designing code that uses nested while loops:</p>
<ol>
<li>Try to understand the relationship between each loop&rsquo;s Boolean expression. If possible, use different variables in each one. It is easy to write code where the Boolean expressions are closely related, causing an infinite loop to occur.</li>
<li>Consider moving the internal loop to a separate function. That way it can be tested independently by calling the function directly elsewhere in your code.</li>
<li>Look for ways to combine the nested loops into a single loop if possible. While this may not always be an option, it can make reasoning about the code much simpler.</li>
<li>Try to make the loops as simple as possible. It is much easier to debug loops that use a simple iterator that increments regularly instead of a complex Boolean expression. Likewise, try to build loops that either both increment or both decrement the iterator variable to maintain consistency.</li>
</ol>
<p>Nested loops present a very difficult challenge for programmers, because they are short snippets of code that may end up resulting in hundreds or even thousands of individual steps to be executed. So, anything we can do to make the loops simpler and easier to understand will greatly improve our ability to write programs with fewer bugs.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Nested While Loops</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="nested-for-loops">Nested For Loops</h1>


<a href="https://www.youtube.com/watch?v=g7quQJVplPs">YouTube Video</a>

<h4 id="resources">Resources</h4>
<ul>
<li><a href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/02-nested-for-loops/slides/" target="_blank">Slides</a></li>
</ul>
<p>For loops can also be nested, just like while loops. In fact, nesting for loops is often much simpler than nesting while loops, since it is very easy to predict exactly how many times a for loop will iterate, and also because it is generally easier to determine if a for loop will properly terminate instead of a while loop.</p>
<p>A great way to explore using nested for loops is by printing <a href="https://en.wikipedia.org/wiki/ASCII_art" target="_blank">ASCII Art</a>
 shapes. For example, consider the following Python program that contains nested for loops:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;* &#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>Just by looking at the code, can you predict what shape it will print? We can check the result by running the program on the terminal directly. If we do so, we should receive this output:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>* * * * * 
</span></span><span style="display:flex;"><span>* * * * * 
</span></span><span style="display:flex;"><span>* * * * * </span></span></code></pre></div><p>It printed a rectangle that is $3$ rows tall (the outer for loop) and $5$ columns wide (the inner for loop). If we look back at our code, this hopefully becomes very clear. This is a very typical structure for nested for loops - the innermost loop will handle printing one line of data, and then the outer for loop is used to determine the number of lines that will be printed.</p>
<p>The process for dealing with nested for loops is nearly identical to nested while loops. So, we won&rsquo;t go through a full example using Python Tutor. However, feel free to run any of the examples in this lab in Python Tutor yourself and make sure you clearly understand how it works and can easily predict the output based on a few changes.</p>
<h2 id="example-1">Example 1</h2>
<p>Let&rsquo;s look at a few more examples of nested for loops and see if we can predict the shape that is created when we run the code.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;* &#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>This time, we&rsquo;ve updated the inner for loop to use <code>range(i + 1)</code>, so each time that inner loop is reached, the range will be different based on the current value of <code>i</code> from the outer loop. So, we can assume that each line of text will be a different size. See if you can figure out what shape this will print!</p>
<p>When we run the code, we&rsquo;ll get this output:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>* 
</span></span><span style="display:flex;"><span>* * 
</span></span><span style="display:flex;"><span>* * * 
</span></span><span style="display:flex;"><span>* * * * 
</span></span><span style="display:flex;"><span>* * * * * </span></span></code></pre></div><p>We see a triangle that is $5$ lines tall and $5$ columns wide. If we look at the code, we know that we&rsquo;ll have 5 rows of output based on the <code>range(5)</code> used in the outer loop. Then, in the inner loop, we can see that the first time through we&rsquo;ll only have a single item, since <code>i</code> is $0$ and the range used is <code>range(i + 1)</code>.</p>
<p>The next iteration of the outer loop will have $1$ stored in <code>i</code>, so we&rsquo;ll end up repeating the inner loop $2$, or <code>i + 1</code>, times. We&rsquo;ll repeat that process until the final line, which will have $5$ characters in it to complete the triangle.</p>
<p>From here, we can quickly modify the program to change the structure of the triangle. For example, to flip the triangle and make it point downward, we can change the range in the inner loop to <code>range(i, 5)</code> instead!</p>
<h2 id="example-2">Example 2</h2>
<p>What if we want to flip the triangle along the vertical axis, so that the long side runs from the top-right to the bottom-left? How can we change our nested loops to achieve that outcome?</p>
<p>In that case, we&rsquo;ll not only have to print the correct number of asterisks, but we&rsquo;ll also need to print the correct number of spaces on each line, before the asterisks. One possible way to achieve this is shown in this code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">4</span> <span style="color:#f92672">-</span> i):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;  &#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;* &#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>Here, we have two for loops nested inside of our outer loop. The first loop creates a range using the expression <code>4 - i</code>, and the second loop uses the expression <code>i + i</code>. So, when <code>i</code> is equal to $0$ during the first iteration of the outer loop, the first inner loop will be executed $4$ times, and the second loop only $1$ time. Then, on the next iteration of the outer loop, the first inner loop will only run $3$ times, while the second loop now runs $2$ times. Each time, the sum of the iterations will be $5$, so our lines will always be the same length.</p>
<p>When we run the code, we&rsquo;ll get this output:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>        * 
</span></span><span style="display:flex;"><span>      * * 
</span></span><span style="display:flex;"><span>    * * * 
</span></span><span style="display:flex;"><span>  * * * * 
</span></span><span style="display:flex;"><span>* * * * * </span></span></code></pre></div><h2 id="example-3">Example 3</h2>
<p>Up to this point, we&rsquo;ve just been writing loops to print shapes using ASCII art. While that may seem trivial, understanding the &ldquo;shape&rdquo; that will be produced by a given set of nested loops can really help us understand how the code itself will function with other data.</p>
<p>Consider this example code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            sum <span style="color:#f92672">=</span> sum <span style="color:#f92672">+</span> (i <span style="color:#f92672">*</span> j)
</span></span><span style="display:flex;"><span>            count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;sum: </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">, count: </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(sum, count))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>Before we even try to run this code, can we guess what the final value of the <code>count</code> variable will be? Put another way, can we determine how many times we&rsquo;ll execute the code in the innermost loop, which will help us understand how long it will take for this program to run?</p>
<p>Let&rsquo;s compare this code to the first example shown above:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;* &#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>Notice how the code structure is very similar? The outermost loop runs a given number of times, and then the inner loop&rsquo;s iterations are determined by the value of the outer loop&rsquo;s iterator variable. Since we know that the first example produces a triangle, we can guess that the program above runs in a similar way. So, the first iteration of the outer loop will run the inner loop once, then twice on the second iteration, and so on, all the way up to $10$ iterations. If we sum up all the numbers from $1$ to $10$, we get $55$.</p>
<p>Now let&rsquo;s run that code and see if we are correct:</p>
<p>
<a href="#image-8d16d54e6cffaff38dc820b052e2f978" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output.png" alt="Output" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8d16d54e6cffaff38dc820b052e2f978">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output.png" alt="Output" class="lightbox-image" loading="lazy">
</a></p>
<p>As this example shows, we can use our basic understanding of various looping structures to help us understand more complex programs, and even predict their output without running or tracing the program. This is a very useful skill to learn when working with nested loops.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Nested For Loops</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="testing-nested-loops">Testing Nested Loops</h1>


<a href="https://www.youtube.com/watch?v=1TngxJQL0Ac">YouTube Video</a>

<h4 id="resources">Resources</h4>
<ul>
<li><a href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/03-testing-nested-loops/slides/" target="_blank">Slides</a></li>
</ul>
<p>Testing nested loops can also be very tricky, especially because they can make our program&rsquo;s control flow even more complex. So, let&rsquo;s briefly go through an example to see how to determine what inputs we can use to test nested loops.</p>
<p>Consider the following example program:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">positive_input</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Enter a positive integer: &#34;</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> x <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Invalid input!&#34;</span>)
</span></span><span style="display:flex;"><span>        x <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Enter a positive integer: &#34;</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> positive_input()
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> positive_input()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> y <span style="color:#f92672">&lt;=</span> x:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(x <span style="color:#f92672">-</span> y):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;*&#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>            y <span style="color:#f92672">=</span> y <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Complete!&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>Let&rsquo;s work through the process of generating some test cases for this program to see if it runs without any errors. As always, our biggest concern is to make sure that we don&rsquo;t reach a situation where the program enters an infinite loop, and that we also try to provide inputs that will enter each loop at least once, and also bypass each loop if possible.</p>
<h2 id="input-loop">Input Loop</h2>
<p>First, we see that the <code>positive_input()</code> function uses a loop to make sure the user inputs only positive values. So, some of our first test cases could involve trying values such as $-1$, $0$ and $1$ to check the edge cases of that while loop&rsquo;s Boolean expression. When we run the program and provide those inputs, we should see it enter the loop in that function at least once.</p>
<p>
<a href="#image-54021825c718683918cb4032c92d475a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output2.png" alt="Output 2" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-54021825c718683918cb4032c92d475a">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output2.png" alt="Output 2" class="lightbox-image" loading="lazy">
</a></p>
<p>We can also bypass that loop by simply making sure we enter a positive integer each time. So, we know we have a few test cases available that will achieve branch coverage for that loop.</p>
<h2 id="outer-while-loop">Outer While Loop</h2>
<p>Next, let&rsquo;s consider the outermost while loop in the <code>main()</code> function. That loop uses the Boolean expression <code>y &lt;= x</code> to determine if the loop should be entered or not. So, we want to come up with a few tests that check the edge cases of that Boolean expression. We can start by choosing a value to use for <code>x</code>, such as $5$. Then, the edge cases of that Boolean expression would be when <code>y</code> is either $4$, $5$, or $6$.</p>
<p>If <code>y</code> is $6$, the Boolean expression would be <code>False</code> and it should bypass the loop. We can easily test this to make sure that is the case:</p>
<p>
<a href="#image-cff823dd5428491f8046a6d5367c2460" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output3.png" alt="Output 3" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-cff823dd5428491f8046a6d5367c2460">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output3.png" alt="Output 3" class="lightbox-image" loading="lazy">
</a></p>
<p>Likewise, if <code>y</code> is $4$, we know that it should enter the outermost loop. Inside, we see a for loop that will iterate based on the expression <code>x - y</code>. Effectively, it will compute the difference between <code>x</code> and <code>y</code> and then iterate that many times. So, if <code>x</code> is $4$ and <code>y</code> is $5$, the difference between those values will be $1$. So, we&rsquo;ll enter the innermost for loop at least once. When we run the program with these inputs, we&rsquo;ll see the following output:</p>
<p>
<a href="#image-e44638f2e2e3526701229c8515ebc6bf" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output4.png" alt="Output 4" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-e44638f2e2e3526701229c8515ebc6bf">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output4.png" alt="Output 4" class="lightbox-image" loading="lazy">
</a></p>
<p>What if we set both <code>x</code> and <code>y</code> to be the same value? We know that the inner for loop will run <code>x - y</code> times, so if both <code>x</code> and <code>y</code> are the same value, this would be a way to bypass that loop, while still entering the outermost while loop since <code>y &lt;= x</code> will be <code>True</code>. However, when we try to run the program with these inputs, we&rsquo;ll see something interesting happen:</p>
<p>
<a href="#image-a690fdce10e83bcd495b7a212e2c046b" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output5.png" alt="Output 5" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-a690fdce10e83bcd495b7a212e2c046b">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output5.png" alt="Output 5" class="lightbox-image" loading="lazy">
</a></p>
<p>Our program will quickly start printing blank lines of output to the terminal. So quickly, in fact, that it is hard to even see what happens. As it turns out, we accidentally caused our program to enter an <strong>infinite loop</strong>! When this happens, the only way to stop the program is to close the terminal window it is running in, or use the CTRL+C keyboard command to interrupt it. So, let&rsquo;s see why this infinite loop is occurring, and figure out how we can fix it.</p>
<h2 id="infinite-loop">Infinite Loop</h2>
<p>Did you spot the infinite loop when you first read the program&rsquo;s code? It can be really tricky to find, which is why we have to be very good about choosing test cases that will explore many different ways to run the program.</p>
<p>In this case, the infinite loop is caused by the interaction between the two loops. In the outermost while loop, we have the Boolean expression <code>y &lt;= x</code> to enter the loop. However, inside that loop, the for loop will only execute <code>x - y</code> times, which also happens to be the <strong>loop variant</strong> for the outer while loop. The key to the infinite loop lies in the fact that the <strong>only</strong> line inside of the outer while loop that will change the value of either <code>x</code> or <code>y</code> is also inside of the inner for loop. So, if we don&rsquo;t execute the for loop&rsquo;s code at all, then the value of <code>x</code> and <code>y</code> won&rsquo;t change either, and we&rsquo;ll continually repeat the steps of the outermost while loop.</p>
<p>There are many ways to fix this problem, but the simplest would be to change the Boolean expression of the outermost while loop to be <code>y &lt; x</code>. That will ensure that there is at least one iteration of the innermost for loop, and the infinite loop condition will be avoided.</p>
<p>So, as this example shows, testing nested loops is just like testing regular loops - we want to try and find inputs that will enter the loop at least once, as well as inputs that will bypass the loops if possible, just to make sure there aren&rsquo;t any strange situations that may arise. While this won&rsquo;t find all errors that are present in code containing nested loops, it is a great way to start testing your programs.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Testing Nested Loops</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="worked-example">Worked Example</h1>


<a href="https://www.youtube.com/watch?v=VU6UMrfhkUE">YouTube Video</a>

<h4 id="resources">Resources</h4>
<ul>
<li><a href="https://ksu-cs-textbooks.github.io/cs-zero/x-cis115-labs/12-nested-loops/04-worked-example/slides/" target="_blank">Slides</a></li>
</ul>
<p>Now that we&rsquo;ve explored how to create programs that contain nested loops, let&rsquo;s work through a complete example problem to see how we can convert a problem statement into working code.</p>
<p>Consider the following problem statement:</p>
<blockquote>
<p>Write a program to print the sum of the first <code>n</code> prime numbers, where <code>n</code> is provided as input from the user.</p>
</blockquote>
<p>This is a very simple problem statement, but it can be very complex to build a program that satisfies it. So, let&rsquo;s go through the steps and see if we can get it to work.</p>
<h2 id="handling-user-input">Handling User Input</h2>
<p>As always, we can start building our programs by adding a <code>main()</code> function and a call to the <code>main()</code> function to our code, as shown here:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>Inside of the <code>main()</code> function, the first thing we&rsquo;ll need to do is get input from the user, since we really can&rsquo;t do anything else until we know what our goal is. While the problem statement doesn&rsquo;t include any information about what inputs are acceptable, we can infer that only positive integers should be used as input. So, we can borrow the <code>positive_input()</code> function from earlier in this module to handle all of our input:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">positive_input</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Enter a positive integer: &#34;</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> x <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Invalid input!&#34;</span>)
</span></span><span style="display:flex;"><span>        x <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Enter a positive integer: &#34;</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">=</span> positive_input()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>Reusing existing code, such as the <code>positive_input()</code> function we just included here, is a great way to build our programs. We can always think of previous code that we&rsquo;ve already written and tested as possible building blocks for future programs, and reusing existing code is a great way to speed up our development process.</p>
<h2 id="prime-numbers">Prime Numbers</h2>
<p>Next, we need some way to determine if a number is a prime number. Recall from mathematics that a prime number is a number that is only equally divisible by $1$ and itself. For example, $7$ is prime, but $8$ is not since it can be evenly divided by $4$.</p>
<p>Thankfully, we know that we can use the modulo operator <code>%</code> to determine if a number if evenly divisible by another number. So, all we need to do is check if each number less than our chosen number can equally divide it. If none of them can, then our chosen number is prime.</p>
<p>So, let&rsquo;s write a function that performs this operation. We&rsquo;ll start by creating a function that accepts our chosen number as a parameter:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_prime</span>(n):</span></span></code></pre></div><p>Next, we know that we need to check all of the numbers from $2$ up to but not including <code>n</code>. We can do this using a for loop and the <code>range()</code> function:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_prime</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">2</span>, n):</span></span></code></pre></div><p>Inside of the for loop, we want to check and see if the iterator variable <code>i</code> can evenly divide the chosen number <code>n</code> using the modulo operator:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_prime</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">2</span>, n):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">%</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># i equally divides n</span></span></span></code></pre></div><p>Here&rsquo;s where things get a bit tricky - if <code>i</code> can equally divide <code>n</code>, we know that <code>n</code> is not prime and we don&rsquo;t have to check any other values. So, in our function, we can just use the <code>return False</code> statement to return the value <code>False</code> from this function. As soon as the function reaches a <code>return</code> statement, even if it is inside of a loop, it will immediately stop the function and go back to where it was called from. In effect, we can use this to <strong>shortcut</strong> the rest of the loop.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_prime</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">2</span>, n):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">%</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># what if we don&#39;t return false?</span></span></span></code></pre></div><p>However, what happens if we check all of the values from $2$ up to <code>n</code> and don&rsquo;t find a single one that will equally divide our chosen number <code>n</code>? In that case, we&rsquo;ll reach the end of our for loop, but our function hasn&rsquo;t returned anything. So, we&rsquo;ll need to add one extra line to the end of the function to <code>return True</code> if we get to that point.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_prime</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">2</span>, n):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">%</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">True</span></span></span></code></pre></div><p>There we go! That&rsquo;s a quick and easy function to determine if a given number is prime. This function is a great example of a pattern that we&rsquo;ll see many times as we write complex programs whenever we must determine if a particular situation is true for a given list of numbers. Inside of the loop, we&rsquo;ll check each case and return <code>False</code> if it isn&rsquo;t true. If it is true, then we&rsquo;ll complete the entire loop without returning <code>False</code>, so we&rsquo;ll need to return <code>True</code> at the end of the function. We&rsquo;ll see this pattern again in a later lab.</p>

<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-Efficient Prime Numbers"></i> note-1</div>
  <div class="box-content">

<p>The <code>is_prime()</code> function above is very simple, but not very efficient. With a bit of thought, it is easy to determine that we only have to actually check numbers up to <code>n /2</code>, since it is impossible for any number larger than that to evenly divide <code>n</code>. Likewise, we can do some quick math to eliminate numbers that end in an even digit or $5$, since those numbers will never be prime.</p>
<p>Finally, we could use a more advanced mathematical technique such as the <a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes" target="_blank">Sieve of Eratosthenes</a>
 to generate all prime numbers more quickly. However, for this example, we&rsquo;ll stick to the simplest approach.</p>
</div>
</div>
<h2 id="complete-program">Complete Program</h2>
<p>Finally, now that we have the <code>is_prime()</code> function, we can complete our <code>main()</code> function by simply iterating through all possible numbers until we&rsquo;ve found <code>n</code> prime numbers, and then print the sum:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">=</span> positive_input()
</span></span><span style="display:flex;"><span>    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> count <span style="color:#f92672">&lt;</span> n:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> is_prime(i):
</span></span><span style="display:flex;"><span>            sum <span style="color:#f92672">=</span> sum <span style="color:#f92672">+</span> i
</span></span><span style="display:flex;"><span>            count <span style="color:#f92672">=</span> count <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;The sum of the first </span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> prime numbers is </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(n, sum))</span></span></code></pre></div><p>This program requires three additional variables. The variable <code>count</code> is used to keep track of the number of prime numbers found, so we&rsquo;ll increment it inside of the <code>if</code> statement each time we find a prime number. Likewise, the <code>sum</code> variable keeps track of the sum of the prime numbers, which we&rsquo;ll print at the end. Finally, we use <code>i</code> as our iterator variable, so we must make sure that we increment <code>i</code> each time the while loop iterates, outside of the if statement. We&rsquo;ll start <code>i</code> at $2$, since $1$ is not a prime number mathematically. A <em>very</em> common programming mistake is to forget to increment <code>i</code> outside the if statement, resulting in an infinite loop. Also, we chose to use a while loop instead of a for loop since our program&rsquo;s goal is to sum up the first <code>n</code> prime numbers, which is better expressed as a while loop instead of a for loop.</p>
<p>The full program is shown below:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">positive_input</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Enter a positive integer: &#34;</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> x <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Invalid input!&#34;</span>)
</span></span><span style="display:flex;"><span>        x <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Enter a positive integer: &#34;</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_prime</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">2</span>, n):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">%</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">=</span> positive_input()
</span></span><span style="display:flex;"><span>    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> count <span style="color:#f92672">&lt;</span> n:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> is_prime(i):
</span></span><span style="display:flex;"><span>            sum <span style="color:#f92672">=</span> sum <span style="color:#f92672">+</span> i
</span></span><span style="display:flex;"><span>            count <span style="color:#f92672">=</span> count <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;The sum of the first </span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> prime numbers is </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(n, sum))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>Finally, notice that this program doesn&rsquo;t contain a loop nested within another loop in the same function, but because we are calling the <code>is_prime()</code> function, which contains a loop, from within a loop inside of the <code>main()</code> function, it actually has a nested loop structure inside of it! Feel free to run this program in Python or using Python Tutor to confirm that it works as expected before continuing.</p>
<h2 id="testing">Testing</h2>
<p>Testing this program is a bit complex, since we can only provide a single input. We can easily provide a negative value or $0$ to confirm that the loop in the <code>positive_input()</code> function is working correctly, but beyond that we have little control over the rest of the program just by changing inputs.</p>
<p>Instead, we have to rely on our ability to read and analyze the code to determine if it is working properly. For example, we can look at the loop inside of the <code>main()</code> function. It is a while loop, which relies on the <code>count</code> variable increasing until it is greater than or equal to <code>n</code> before it will terminate. We can see that <code>count</code> will be incremented each time the <code>is_prime()</code> function returns <code>True</code>, so as long as we are able to find enough prime numbers, and assuming our <code>is_prime()</code> function works correctly, this loop should eventually terminate.</p>
<p>In the <code>is_prime()</code> function, we have a simple for loop, which will always terminate eventually. There is no way to bypass it, so we don&rsquo;t really have to worry about that function not eventually returning a value.</p>
<p>However, proving that this program creates the correct answer is a bit trickier. One of the best ways to do this is to simply check a few answers manually. For example, with a bit of searching online, we can find a list of prime numbers. According to <a href="https://en.wikipedia.org/wiki/List_of_prime_numbers" target="_blank">Wikipedia</a>
, the first 9 prime numbers are:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>2
</span></span><span style="display:flex;"><span>3
</span></span><span style="display:flex;"><span>5
</span></span><span style="display:flex;"><span>7
</span></span><span style="display:flex;"><span>11
</span></span><span style="display:flex;"><span>13
</span></span><span style="display:flex;"><span>17
</span></span><span style="display:flex;"><span>19
</span></span><span style="display:flex;"><span>23</span></span></code></pre></div><p>The sum of those numbers is easy to calculate using a calculator or other device, and eventually we can be fairly certain that the correct answer is $100$. When we run our program, we should hopefully get the same result:</p>
<p>
<a href="#image-dec8e50a3b354d969f2a23f33394fd6a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output6.png" alt="Output 6" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-dec8e50a3b354d969f2a23f33394fd6a">
<img src="https://ksu-cs-textbooks.github.io/cs-zero/images/lab12/output6.png" alt="Output 6" class="lightbox-image" loading="lazy">
</a></p>
<p>We can test a few other numbers until we are sure that our program is working correctly.</p>
<p>Hopefully this example is a good look at how to build a program using loops that meets a given problem description. We were able to put together various types of loops and conditional statements in our program, and then test it to be sure it works. As you continue to work on projects in this class, feel free to refer back to these examples for ideas and blocks of code that you may want to use in your own programs. Good luck!</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Worked Example</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this lab, we introduced several major important topics in Python. Let&rsquo;s quickly review them.</p>
<h2 id="nested-loops">Nested Loops</h2>
<p>Loops in Python can be nested, just like any other statement. While loops and for loops can be nested in any combination.</p>
<h2 id="testing-nested-loops">Testing Nested Loops</h2>
<p>When testing nested loops, it is important to consider situations where a loop will be executed and where it will be bypassed. It is also important to consider the loop variants for while loops to ensure that there aren&rsquo;t situations where a loop will accidentally run infinitely.</p>
<h2 id="efficiency">Efficiency</h2>
<p>Nested loops can result in programs that execute many individual steps, even using just a few lines of code. It is always helpful to think about the number of times a loop will execute and make sure that it isn&rsquo;t executing more times than necessary.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cs-textbooks/cs-zero/-/commit/c80453205407381a0e84aa3f8c8e12ac91f73e2c">Aug 10, 2023</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cs-zero/js/clipboard.min.js?1691785638" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cs-zero/js/perfect-scrollbar.min.js?1691785638" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cs-zero/js/theme.js?1691785638" defer></script>
  </body>
</html>
